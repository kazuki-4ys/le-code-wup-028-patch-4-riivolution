# le-code-wup-028-patch-4-riivolution

## 機能

Riivolution限定ではあるが、LE-CODEベースのCT packでUSB GCNコンアダプタを使えるようにするパッチ

あくまで現時点では実験的なものである。

これは[Chadderz氏](https://github.com/Chadderz121)が[brainslug-wii](https://github.com/Chadderz121/brainslug-wii)用のモジュールとして開発したものを単純に移植したものである。

[元のコード](https://github.com/Chadderz121/wup-028-bslug)

## 制限

追加のコードを本来カップ設定に使われる領域の後半に使用する。よって、使用できるカップ数が512、つまりコース数が2048に制限される。

いい意味で狂ってるCT pack以外で2048コース以上使用しているCT Packを見たことないのでこの制限はほぼないものに等しい

このパッチは本来のGCコンの入力値を読み取る関数、振動させる関数を完全に置き換えてるので、Dolphinの場合GCコンが使えなくなる。

Wiiの場合、本体上部の4つのGCコンを差すコネクタが使えなくなる(WiiUと同様 USB GCNコンアダプタは使える。無意味だが)

## 不具合

タイトル画面に入って30フレーム後にUSB GCNを有効化するという裏ワザ?で大分ましにはなったが、

Wiiリモコンの通信が切れると、一切の操作が効かなくなることが時々ある

というより恐らくIOSAsync関連が全滅していると思われる

タイトル画面に入ったらWiiリモコンの電池を抜いて通信を切り、ホームに戻る時に電池をいれる

という面倒臭いことをすれば一応回避はできる

## 配布パッチについて

Releaseに配布していると思う

配布パッチはあくまでbuild36とbuild38用であり、それ以外のバージョンでは使用できない

ソースコードはbuild38用のアドレスになっている

wszstなどで各種パラメーターを設定した後、最後に配布パッチをあてること

ipsパッチとして配布してある。

ipsパッチを適用するツールとして有名なものに[winips](http://smblabo.web.fc2.com/)というものがある。

最近ではipsパッチを適用できる[webアプリ](https://www.romhacking.net/patch/)も登場した